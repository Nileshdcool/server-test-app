<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- <link rel="icon" href="../src/assets/Images/favicon.png" /> -->
    <!-- href="%PUBLIC_URL%/manifest.json" /> -->
    <link rel="icon" href="%PUBLIC_URL%/favicon.png" type="image/x-icon" />
    <meta
      name="viewport"
      content="user-scalable=no, width=device-width, initial-scale=1"
    />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <!-- <link rel="apple-touch-icon" href="logo192.png" /> -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link
      rel="stylesheet"
      type="text/css"
      href="%PUBLIC_URL%/css/bootstrap.min.css"
    />
    <link rel="stylesheet" type="text/css" href="%PUBLIC_URL%/css/style.css" />
    <link
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
    <script
      src="https://www.paynimo.com/paynimocheckout/client/lib/jquery.min.js"
      type="text/javascript"
    ></script>
    <script
      type="text/javascript"
      src="https://www.paynimo.com/paynimocheckout/server/lib/checkout.js"
    ></script>
    <script
      src="https://www.paynimo.com/paynimocheckout/client/lib/jquery.min.js"
      type="text/javascript"
    ></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <!-- font-awsome icon -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
      integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
      crossorigin="anonymous"
    />

    <!-- <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    /> -->

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700;800&display=swap"
      rel="stylesheet"
    />

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700&family=Proza+Libre&display=swap"
      rel="stylesheet"
    />
    <title>LFL Sales</title>
  </head>
  <body>
    <script
      type="text/javascript"
      src="https://www.paynimo.com/Paynimocheckout/server/lib/checkout.js"
    ></script>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="text/javascript">
      $(document).ready(function () {
        function handleResponse(res) {
          if (
            typeof res != 'undefined' &&
            typeof res.paymentMethod != 'undefined' &&
            typeof res.paymentMethod.paymentTransaction != 'undefined' &&
            typeof res.paymentMethod.paymentTransaction.statusCode !=
              'undefined' &&
            res.paymentMethod.paymentTransaction.statusCode == '0300'
          ) {
            // success block
          } else if (
            typeof res != 'undefined' &&
            typeof res.paymentMethod != 'undefined' &&
            typeof res.paymentMethod.paymentTransaction != 'undefined' &&
            typeof res.paymentMethod.paymentTransaction.statusCode !=
              'undefined' &&
            res.paymentMethod.paymentTransaction.statusCode == '0398'
          ) {
            // initiated block
          } else {
            // error block
          }
        }

        $(document)
          .off('click', '#btnSubmit')
          .on('click', '#btnSubmit', function (e) {
            e.preventDefault();

            var configJson = {
              tarCall: false,
              features: {
                showPGResponseMsg: true,
                enableAbortResponse: true,
                enableNewWindowFlow: false, //for hybrid applications please disable this by passing false
                enableExpressPay: true,
                siDetailsAtMerchantEnd: true,
                enableSI: true,
              },
              consumerData: {
                deviceId: localStorage.getItem('deviceId'), //possible values 'WEBSH1' and 'WEBSH2'
                token: localStorage.getItem('token'),
                returnUrl: localStorage.getItem('returnUrl'), //merchant response page URL
                responseHandler: handleResponse,
                paymentMode: localStorage.getItem('paymentMode'),
                merchantLogoUrl:
                  'https://www.paynimo.com/CompanyDocs/company-logo-md.png', //provided merchant logo will be displayed
                merchantId: localStorage.getItem('merchantId'),
                currency: localStorage.getItem('currency'),
                consumerId: localStorage.getItem('consumerId'), //Your unique consumer identifier to register a eMandate/eNACH
                consumerMobileNo: localStorage.getItem('consumerMobileNo'),
                consumerEmailId: localStorage.getItem('consumerEmailId'),
                txnId: localStorage.getItem('txnId'), //Unique merchant transaction ID
                items: [
                  {
                    itemId: 'FIRST',
                    amount: '1',
                    comAmt: '0',
                  },
                ],
                customStyle: {
                  PRIMARY_COLOR_CODE: '#3977b7', //merchant primary color code
                  SECONDARY_COLOR_CODE: '#FFFFFF', //provide merchant's suitable color code
                  BUTTON_COLOR_CODE_1: '#1969bb', //merchant's button background color code
                  BUTTON_COLOR_CODE_2: '#FFFFFF', //provide merchant's suitable color code for button text
                },
                //'accountNo': '1234567890',    //Pass this if accountNo is captured at merchant side for eMandate/eNACH
                //'accountHolderName': 'Name',  //Pass this if accountHolderName is captured at merchant side for ICICI eMandate & eNACH registration this is mandatory field, if not passed from merchant Customer need to enter in Checkout UI.
                //'ifscCode': 'ICIC0000001',        //Pass this if ifscCode is captured at merchant side.
                accountType: localStorage.getItem('accountType'), //Required for eNACH registration this is mandatory field
                debitStartDate: localStorage.getItem('debitStartDate'),
                debitEndDate: localStorage.getItem('debitEndDate'),
                maxAmount: localStorage.getItem('maxAmount'),
                amountType: localStorage.getItem('amountType'),
                frequency: localStorage.getItem('frequency'), //  Available options DAIL, WEEK, MNTH, QURT, MIAN, YEAR, BIMN and ADHO
              },
            };

            $.pnCheckout(configJson);
            if (configJson.features.enableNewWindowFlow) {
              pnCheckoutShared.openNewWindow();
            }
          });
      });
    </script>
  </body>
</html>
